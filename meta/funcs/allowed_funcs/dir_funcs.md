Объявление:

    DIR *opendir(const char *filename);

    struct dirent *readdir(DIR *dirp);

    int closedir(DIR *dirp);

Header files:

    <dirent.h>

ОПИСАНИЕ

Функция opendir() открывает каталог, названный по имени файла, связывает с ним поток каталогов и возвращает указатель, который будет использоваться для идентификации потока каталогов в последующих операциях.  Указатель NULL возвращается, если filename недоступен или если не удается выделить достаточно памяти(malloc(3)), чтобы вместить все содержимое.

Функция readdir() возвращает указатель на следующий элемент каталога.  Запись каталога остается действительной до следующего вызова readdir() или closedir() на том же потоке каталогов.  Функция возвращает NULL при достижении конца каталога или при ошибке.  В случае ошибки значение errno может быть установлено в любое из значений, задокументированных для функции getdirentries(2).  Обратите внимание, что порядок записей в каталоге, передаваемых функцией readdir(), не задается.  Некоторые файловые системы могут возвращать записи в лексикографическом порядке сортировки, а другие - нет.  Также обратите внимание, что не все файловые системы предоставляют значение для d_type и могут вместо этого установить для поля значение DT_UNKNOWN.

Функция closedir() закрывает именованный поток каталогов и освобождает структуру, связанную с указателем dirp, возвращая 0 в случае успеха.  В случае неудачи возвращается -1, а глобальная переменная errno указывает на ошибку.

Пример кода, который ищет в каталоге запись ``name'':

          ```c
dirp = opendir(".");
if (dirp == NULL)
    return (ERROR);
len = strlen(name);
while ((dp = readdir(dirp)) != NULL) 
{
    if (dp->d_namlen == len && strcmp(dp->d_name, name) == 0) 
    {
        (void)closedir(dirp);
        return (FOUND);
    }
}
(void)closedir(dirp);
return (NOT_FOUND);
```
