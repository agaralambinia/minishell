Объявление:

    sig_t signal(int sig, sig_t func);

Header files:

    <signal.h>

Эта функция signal() является упрощенным интерфейсом более общей функции sigaction(2).
Сигналы позволяют манипулировать процессом извне его домена, а также позволяют процессу манипулировать самим собой или своими копиями (дочерними процессами).  Существует два общих типа сигналов: те, которые вызывают завершение процесса, и те, которые не вызывают.  Сигналы, которые приводят к завершению программы, могут быть результатом в результате неустранимой ошибки или в результате того, что пользователь на терминале набирает символ `прерывания`.
Сигналы используются, когда процесс останавливается, потому что он хочет получить доступ к своему терминалу управления, находясь в (см. tty(4)).  Сигналы дополнительно генерируются, когда процесс возобновляется после остановки, когда при изменении состояния дочерних процессов или при готовности ввода на терминале управления.  Большинство сигналов приводят к завершению процесса, получившего их, если не предпринять никаких действий; некоторые сигналы вместо этого заставляют некоторые сигналы вместо этого приводят к остановке получившего их процесса или просто отбрасываются, если процесс не потребовал иного. За исключением сигналов SIGKILL и SIGSTOP, функция signal() позволяет перехватить сигнал, проигнорировать его или сгенерировать прерывание.  Эти сигналы определены в файле <signal.h>:

No  Имя         Действие по умолчанию   Описание
1   SIGHUP      завершение процесса     зависание терминальной линии
2   SIGINT      завершить процесс       прерывание программы
3   SIGQUIT     создание образа ядра    завершение программы
4   SIGILL      создание образа ядра    запрещенная инструкция
5   SIGTRAP     создание образа ядра    ловушка трассировки
6   SIGABRT     создание образа ядра    отмена программы (ранее SIGIOT)
7   SIGEMT      создание образа ядра    выполнение инструкции эмуляции
8   SIGFPE      создание образа ядра    исключение плавающей точки
9   SIGKILL     завершение процесса     уничтожить программу
10  SIGBUS      создание образа ядра    ошибка шины (bus error)
11  SIGSEGV     создание образа ядра    нарушение сегментации (segmentation violation)
12  SIGSYS      создание образа ядра    вызов несуществующего системного вызова
13  SIGPIPE     завершение процесса     запись в канал, из которого никто не читает
14  SIGALRM     завершение процесса     таймер реального времени истек
15  SIGTERM     завершение процесса     сигнал программного завершения
16  SIGURG      отбросить сигнал        наличие срочного состояния на сокете
17  SIGSTOP     остановка процесса      остановка (не может быть пойман или проигнорирован)
18  SIGTSTP     остановка процесса      сигнал остановки процесса, генерируемый с клавиатуры
19  SIGCONT     отбросить сигнал        продолжения работы после остановки
20  SIGCHLD     отбросить сигнал        изменении статуса дочернего процесса
21  SIGTTIN     остановка процесса      попытка фонового чтения с терминала управления
22  SIGTTOU     остановка процесса      попытка фоновой записи на управляющий терминал
23  SIGIO       отбросить сигнал        ввод/вывод возможен для дескриптора (см. fcntl(2))
24  SIGXCPU     завершение процесса     превышен лимит времени процессора (см. setrlimit(2))
25  SIGXFSZ     завершение процесса     превышен лимит размера файла (см. setrlimit(2))
26  SIGVTALRM   завершение процесса     тревога виртуального времени (см. setitimer(2))
27  SIGPROF     завершение процесса     тревога по таймеру профилирования (см. setitimer(2))
28  SIGWINCH    отбросить сигнал        изменение размера окна
29  SIGINFO     отбросить сигнал        запроса состояния с клавиатуры
30  SIGUSR1     завершение процесса     Сигнал 1, определяемый пользователем
31  SIGUSR2     завершение процесса     Сигнал 2, определяемый пользователем

Аргумент sig указывает, какой сигнал был получен.  Процедура func позволяет пользователю выбрать действие после получения сигнала.  Чтобы установить действие сигнала по умолчанию, как указано выше, func должна иметь значение SIG_DFL.  SIG_DFL сбрасывает действие по умолчанию.  Чтобы проигнорировать сигнал, func должна быть SIG_IGN.  Это последующие экземпляры сигнала будут игнорироваться, а ожидающие - отбрасываться.  Если SIG_IGN не используется, последующие появления сигнала автоматически блокируются и вызывается func.

После возврата функции обработанный сигнал разблокируется, и процесс продолжается с того места, на котором он остановился когда сигнал возник.  В отличие от предыдущих средств обработки сигналов, обработчик func() остается установленным после после подачи сигнала.

Для некоторых системных вызовов, если сигнал был пойман во время выполнения вызова и вызов был преждевременно завершен, вызов автоматически перезапускается.  Любой обработчик, установленный с помощью signal(3), будет иметь флаг SA_RESTART, означающий, что любой перезапускаемый системный вызов не вернется при получении сигнала.  К таким относятся системные вызовы read(2), write(2), sendto(2), recvfrom(2), sendmsg(2) и recvmsg(2) на канале связи или низкоскоростном устройстве, а также во время выполнения ioctl(2) или wait(2). Однако вызовы, которые уже выполняются, не перезапускаются, а вместо этого возвращают частичный успех (например, короткий счетчик чтения).  Эта семантика может быть изменена с помощью siginterrupt(3).

Когда процесс, в котором установлены обработчики сигналов, вызывает  fork(), дочерний процесс наследует сигналы.  Все пойманные сигналы могут быть возвращены к своему действию по умолчанию вызовом функции execve(2); проигнорированные сигналы остаются проигнорированными.

Если процесс явно указывает SIG_IGN в качестве действия для сигнала SIGCHLD, система не будет создавать зомби-процессы, когда дочерние процессы вызывающего процесса завершаются.  Как следствие, система будет отбрасывать статус выхода из дочерних процессов.  Если вызывающий процесс впоследствии выполнит вызов wait(2) или эквивалентный вызов, он будет блокироваться до тех пор, пока не завершатся все дочерние процессы вызывающего процесса, а затем вернет значение -1 с ошибкой errno, установленной в ECHILD.

Список функций, которые считаются безопасными для использования в обработчиках сигналов, см. в sigaction(2).

ВОЗВРАЩАЕМЫЕ ЗНАЧЕНИЯ
При успешном вызове возвращается предыдущее действие.  В противном случае возвращается SIG_ERR и устанавливается глобальная переменная errno для указания ошибки.